<template>
  <h2>æ¬¢è¿ä½¿ç”¨vite+vue3+ts+pinia+vue-router4</h2>
  <div>{{ userInfo.userInfo?.realName }}</div>
  <div :class="$attrs.class">{{ $attrs }}</div>
</template>

<script lang="ts" setup>
import { getCurrentInstance } from "vue";
import { useUserStore } from "@/store/user";

const userInfo = useUserStore();

// proxy å°±æ˜¯å½“å‰ç»„ä»¶å®ä¾‹ï¼Œå¯ä»¥ç†è§£ä¸ºç»„ä»¶çº§åˆ«çš„ thisï¼Œæ²¡æœ‰å…¨å±€çš„ã€è·¯ç”±ã€çŠ¶æ€ç®¡ç†ä¹‹ç±»çš„
const instance = getCurrentInstance();
console.log("ğŸš€ ~ file: UsePinia.vue:16 ~ proxy:", instance?.proxy?.$attrs);

// è¿™ä¸ª global å°±æ˜¯å…¨å±€å®ä¾‹
const global = instance?.appContext.config.globalProperties;
</script>
